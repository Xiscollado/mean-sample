angular.module("app",["ngRoute"]),angular.module("app").controller("LoginCtrl",["$scope","UserSvc",function(t,e){t.login=function(t,o){e.login(t,o).then(function(t){console.log(t)})}}]),angular.module("app").controller("PostCtrl",["$scope","PostsSvc",function(t,e){e.fetch().success(function(e){t.posts=e}),t.addPost=function(){t.postBody&&e.create({username:"dickeyxxx",body:t.postBody}).success(function(e){t.posts.unshift(e),t.postBody=null})}}]),angular.module("app").service("PostsSvc",["$http",function(t){this.fetch=function(){return t.get("/api/posts")},this.create=function(e){return t.post("/api/posts",e)}}]),angular.module("app").config(["$routeProvider",function(t){t.when("/",{controller:"PostCtrl",templateUrl:"posts.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"register.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"login.html"})}]),angular.module("app").service("UserSvc",["$http",function(t){var e=this;e.getUser=function(){return t.get("/api/users",{headers:{"X-Auth":this.token}})},e.login=function(o,n){return t.post("/api/sessions",{username:o,password:n}).then(function(t){return e.token=t.data,e.getUSer()})}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImxvZ2luLmN0cmwuanMiLCJwb3N0LmN0cmwuanMiLCJwb3N0LnN2Yy5qcyIsInJvdXRlcy5qcyIsInVzZXIuc3ZjLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFFBQUEsT0FBQSxPQUNBLFlDREEsUUFBQSxPQUFBLE9BQ0EsV0FBQSxhQUFBLFNBQUEsVUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLE1BQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxNQUFBLEVBQUEsR0FDQSxLQUFBLFNBQUEsR0FDQSxRQUFBLElBQUEsU0NMQSxRQUFBLE9BQUEsT0FDQSxXQUFBLFlBQUEsU0FBQSxXQUFBLFNBQUEsRUFBQSxHQUVBLEVBQUEsUUFDQSxRQUFBLFNBQUEsR0FDQSxFQUFBLE1BQUEsSUFHQSxFQUFBLFFBQUEsV0FDQSxFQUFBLFVBQ0EsRUFBQSxRQUNBLFNBQUEsWUFDQSxLQUFBLEVBQUEsV0FDQSxRQUFBLFNBQUEsR0FDQSxFQUFBLE1BQUEsUUFBQSxHQUNBLEVBQUEsU0FBQSxXQ2ZBLFFBQUEsT0FBQSxPQUNBLFFBQUEsWUFBQSxRQUFBLFNBQUEsR0FDQSxLQUFBLE1BQUEsV0FDQSxNQUFBLEdBQUEsSUFBQSxlQUVBLEtBQUEsT0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEtBQUEsYUFBQSxPQ05BLFFBQUEsT0FBQSxPQUNBLFFBQUEsaUJBQUEsU0FBQSxHQUNBLEVBQ0EsS0FBQSxLQUFBLFdBQUEsV0FBQSxZQUFBLGVBQ0EsS0FBQSxhQUFBLFdBQUEsZUFBQSxZQUFBLGtCQUNBLEtBQUEsVUFBQSxXQUFBLFlBQUEsWUFBQSxrQkNMQSxRQUFBLE9BQUEsT0FDQSxRQUFBLFdBQUEsUUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLElBQ0EsR0FBQSxRQUFBLFdBQ0EsTUFBQSxHQUFBLElBQUEsY0FDQSxTQUFBLFNBQUEsS0FBQSxVQUdBLEVBQUEsTUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxpQkFDQSxTQUFBLEVBQUEsU0FBQSxJQUNBLEtBQUEsU0FBQSxHQUVBLE1BREEsR0FBQSxNQUFBLEVBQUEsS0FDQSxFQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdhcHAnLFtcblx0J25nUm91dGUnXG5cdF0pOyIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuXHQuY29udHJvbGxlcignTG9naW5DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU3ZjKXtcblx0XHQkc2NvcGUubG9naW4gPSBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpe1xuXHRcdFx0VXNlclN2Yy5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpXG5cdFx0XHQudGhlbihmdW5jdGlvbih1c2VyKXtcblx0XHRcdFx0Y29uc29sZS5sb2codXNlcik7XG5cdFx0XHR9KVxuXHRcdH1cblx0fSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcblx0LmNvbnRyb2xsZXIoJ1Bvc3RDdHJsJyxmdW5jdGlvbigkc2NvcGUsIFBvc3RzU3ZjKXtcblxuICAgIFBvc3RzU3ZjLmZldGNoKClcbiAgICAuc3VjY2VzcyhmdW5jdGlvbihwb3N0cyl7XG4gICAgICAgICRzY29wZS5wb3N0cyA9IHBvc3RzO1xuICAgIH0pXG5cbiAgICAkc2NvcGUuYWRkUG9zdCA9IGZ1bmN0aW9uICgpe1xuICAgICAgICBpZigkc2NvcGUucG9zdEJvZHkpe1xuICAgICAgICAgICAgUG9zdHNTdmMuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogJ2RpY2tleXh4eCcsXG4gICAgICAgICAgICAgICAgYm9keTogJHNjb3BlLnBvc3RCb2R5XG4gICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKHBvc3Qpe1xuICAgICAgICAgICAgICAgICRzY29wZS5wb3N0cy51bnNoaWZ0KHBvc3QpO1xuICAgICAgICAgICAgICAgICRzY29wZS5wb3N0Qm9keSA9IG51bGw7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcblx0LnNlcnZpY2UoJ1Bvc3RzU3ZjJywgZnVuY3Rpb24oJGh0dHApe1xuICAgIHRoaXMuZmV0Y2ggPSBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Bvc3RzJyk7XG4gICAgfVxuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24ocG9zdCl7XG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3Bvc3RzJywgcG9zdCk7XG4gICAgfVxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb25maWcoZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIpe1xuXHQkcm91dGVQcm92aWRlclxuXHQud2hlbignLycsIHtjb250cm9sbGVyOidQb3N0Q3RybCcsIHRlbXBsYXRlVXJsOidwb3N0cy5odG1sJ30pXG5cdC53aGVuKCcvcmVnaXN0ZXInLCB7Y29udHJvbGxlcjonUmVnaXN0ZXJDdHJsJyx0ZW1wbGF0ZVVybDogJ3JlZ2lzdGVyLmh0bWwnfSlcblx0LndoZW4oJy9sb2dpbicsIHtjb250cm9sbGVyOiAnTG9naW5DdHJsJywgdGVtcGxhdGVVcmw6ICdsb2dpbi5odG1sJ30pXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuXHQuc2VydmljZSgnVXNlclN2YycsIGZ1bmN0aW9uKCRodHRwKXtcblx0XHR2YXIgc3ZjID0gdGhpcztcblx0XHRzdmMuZ2V0VXNlciA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzJywge1xuXHRcdFx0XHRoZWFkZXJzIDogeydYLUF1dGgnIDogdGhpcy50b2tlbn1cblx0XHRcdH0pXG5cdFx0fVxuXHRcdHN2Yy5sb2dpbiA9IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQpe1xuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc2Vzc2lvbnMnLCB7XG5cdFx0XHRcdHVzZXJuYW1lOiB1c2VybmFtZSwgcGFzc3dvcmQgOiBwYXNzd29yZFxuXHRcdFx0fSkudGhlbihmdW5jdGlvbiAodmFsKXtcblx0XHRcdFx0c3ZjLnRva2VuID0gdmFsLmRhdGE7XG5cdFx0XHRcdHJldHVybiBzdmMuZ2V0VVNlcigpO1xuXHRcdFx0fSlcblx0XHR9XG5cdH0pIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9